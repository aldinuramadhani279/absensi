# üì± UI/UX HANDOFF DOCUMENTATION
## Project: Sistem Absensi Karyawan

**Generated by:** Gemini AI  
**Date:** 23 December 2025  
**Purpose:** Frontend Implementation Guide  
**Target:** AI Frontend Developer / Human Frontend Developer

---

## 1Ô∏è‚É£ PROJECT OVERVIEW

### Deskripsi Aplikasi:
Aplikasi ini adalah Sistem Absensi Karyawan berbasis web. Tujuannya adalah untuk memungkinkan karyawan melakukan absensi (clock-in & clock-out), mengajukan cuti, dan meminta reset password. Di sisi lain, admin dapat mengelola data master (karyawan, jabatan, shift), menyetujui permintaan cuti & reset password, serta melihat laporan absensi.

### Target User:
- **Primary User:** Karyawan dan Administrator HR.
- **User Level:** Beginner (antarmuka harus sangat intuitif).
- **Device:** Desktop & Mobile (Responsive design, dengan penekanan mobile-first untuk halaman karyawan).

### Tech Stack Backend (Current):
- **Framework:** Laravel
- **Database:** MySQL (Default Laravel)
- **Authentication:** Session-based Authentication (Laravel Sanctum/Web Guard)
- **API Type:** RESTful (melalui web routes)

### Recommended Frontend Stack:
- **Framework:** **Next.js (React)** - Untuk SEO-friendly pages jika diperlukan dan struktur yang terorganisir dengan baik.
- **Styling:** **Tailwind CSS** - Untuk utility-first styling yang cepat dan konsisten.
- **State Management:** **Zustand** - Lebih simpel dari Redux untuk state management global seperti info user.
- **UI Library:** **shadcn/ui** - Menyediakan komponen aksesibel yang bisa di-copy-paste dan dikustomisasi penuh dengan Tailwind.

---

## 2Ô∏è‚É£ API DOCUMENTATION

### Base URL:
Development: http://localhost:8000 (sesuai `php artisan serve`)
Production: [URL_PRODUKSI_ANDA]

### Authentication:
Type: Session (Cookie-based)
Notes: Setiap request non-GET (POST, PATCH, DELETE) harus menyertakan CSRF token. Di Axios/Fetch, ini biasanya ditangani dengan X-XSRF-TOKEN header.

---

### üì° ENDPOINTS MAPPING

#### **POST /login**

**Purpose:** Mengotentikasi pengguna (karyawan/admin).  
**Auth Required:** No  
**User Role:** Public

**Request:**
```json
{
  "email": "string - Alamat email pengguna",
  "password": "string - Kata sandi pengguna"
}
```

**Response Success (Redirect):**
- Redirects ke `/home` untuk karyawan.
- Redirects ke `/admin` untuk admin.
- Redirects ke `/password/force-change` jika `must_change_password` flag aktif.

**UI Recommendations:**
- **Where to use:** Halaman Login.
- **Loading state:** Tombol login di-disable dengan spinner.
- **Error handling:** Tampilkan pesan error di bawah input field atau sebagai toast.

---

#### **POST /logout**

**Purpose:** Mengeluarkan pengguna dari sistem.
**Auth Required:** Yes  
**User Role:** User, Admin

**Response Success (Redirect):**
- Redirects ke `/login`.

---

#### **GET /home**

**Purpose:** Mendapatkan data untuk dashboard karyawan (status absensi, shift, dll).
**Auth Required:** Yes  
**User Role:** User

**Response Success (200 - View with Data):**
- Data `attendance`, `shifts`, `forgotClockOut` dikirim ke view. Frontend perlu mengekstrak ini jika diubah ke API.

**UI Recommendations:**
- **Where to use:** Halaman utama setelah login karyawan.
- **Loading state:** Tampilkan skeleton loader untuk area status absensi.

---

#### **POST /clockin**

**Purpose:** Karyawan melakukan absensi masuk.
**Auth Required:** Yes  
**User Role:** User

**Request:**
```json
{
  "shift_id": "number - ID dari shift yang dipilih"
}
```

**UI Recommendations:**
- **Loading state:** Tombol 'Clock In' menjadi non-aktif dengan spinner.
- **Success state:** Refresh halaman atau state untuk menampilkan status "Sudah Clock In".

---

#### **POST /password/request** (untuk Logged-Out User)

**Purpose:** Mengirim permintaan reset password untuk pengguna yang lupa password.
**Auth Required:** No  
**User Role:** Public

**Request:**
```json
{
  "email": "string - Email pengguna yang terdaftar"
}
```

**UI Recommendations:**
- **Where to use:** Halaman "Lupa Kata Sandi".
- **Success state:** Redirect ke halaman login dengan pesan sukses (e.g., "Permintaan telah dikirim ke admin").

---

#### **POST /password/request-from-profile** (untuk Logged-In User)

**Purpose:** Mengirim permintaan ganti password dari pengguna yang sudah login.
**Auth Required:** Yes  
**User Role:** User

**UI Recommendations:**
- **Where to use:** Tombol di dashboard/profil pengguna.
- **Success state:** Tampilkan toast "Permintaan berhasil dikirim".

---

#### **POST /admin/password-resets/{id}/approve**

**Purpose:** Admin menyetujui permintaan reset password.
**Auth Required:** Yes  
**User Role:** Admin

**Response Success (Redirect):**
- Redirect ke halaman daftar permintaan dengan pesan sukses.

**UI Recommendations:**
- **Where to use:** Tombol "Setujui" di tabel daftar permintaan reset.
- **Interaction:** Tampilkan modal konfirmasi "Apakah Anda yakin ingin mereset password pengguna ini?".

---

## 3Ô∏è‚É£ DATA MODELS

### Model: User

**Purpose:** Menyimpan data pengguna (karyawan & admin).

```typescript
interface User {
  id: number;
  name: string;
  email: string;
  email_verified_at?: Date;
  is_admin: boolean;
  must_change_password: boolean;
  status: 'pns' | 'non-pns';
  nip?: string;      // Nullable
  employee_id?: string; // Nullable
  profession_id: number;
  createdAt: Date;
  updatedAt: Date;
}
```

**Relationships:**
- `belongsTo`: `Profession`
- `hasMany`: `Attendance`, `LeaveRequest`, `PasswordResetRequest`

---

### Model: Attendance

**Purpose:** Mencatat riwayat absensi harian.

```typescript
interface Attendance {
  id: number;
  user_id: number;
  shift_id: number;
  clock_in: Date;
  clock_out?: Date;
  notes?: string;    // Untuk pulang lebih awal
  status: 'present' | 'early_departure';
  createdAt: Date;
  updatedAt: Date;
}
```

**Relationships:**
- `belongsTo`: `User`, `Shift`

---

## 4Ô∏è‚É£ USER FLOWS & PAGES

### üîê Authentication Flow

#### Page: Login (`/login`)
**Purpose:** Otentikasi Pengguna & Admin.

**UI Components Needed:**
- Input Email
- Input Password (dengan show/hide toggle)
- Tombol "Login" (dengan loading state)
- Link "Lupa Kata Sandi Anda?"

**API Endpoint:** `POST /login`

**Flow:**
1. User memasukkan email dan password.
2. Validasi frontend (email valid, password tidak kosong).
3. Panggil API `/login`.
4. **Jika Sukses:**
   - Server akan me-redirect. Jika response API mengindikasikan `must_change_password`, frontend harus redirect ke `/password/force-change`.
   - Jika tidak, redirect ke `/home` (User) atau `/admin` (Admin).
5. **Jika Gagal:** Tampilkan pesan error.

**Design Recommendations:**
- **Style:** Modern Minimalist. Layout kartu di tengah halaman.
- **Color Scheme:** Primary: Blue (`#3B82F6`), Neutral: Gray (`#F3F4F6` untuk background).
- **Inspirasi:** Tampilan login Clerk atau Vercel.

---

### üë§ User Flow

#### Page: Dashboard (`/home`)
**Purpose:** Halaman utama karyawan untuk melakukan absensi.

**Layout Structure:** Satu kolom utama, mobile-first.

**UI Components Needed:**
- **Kartu Status:** Menampilkan pesan sambutan dan status absensi (belum clock-in, sudah clock-in, atau absensi selesai).
- **Form Clock-in:** Jika belum clock-in, tampilkan dropdown pilih Shift dan tombol "Clock In".
- **Info Clock-in:** Jika sudah clock-in, tampilkan jam masuk dan tombol "Clock Out".
- **Kartu Pengaturan Akun:** Berisi tombol "Minta Ganti Kata Sandi".

**API Endpoints Used:**
- `GET /home` (untuk data awal)
- `POST /clockin`
- `POST /clockout`
- `POST /password/request-from-profile`

**Design Recommendations:**
- Gunakan card component yang jelas untuk setiap section.
- Tombol aksi utama (Clock In/Out) harus besar dan menonjol.
- Beri feedback visual yang jelas setelah aksi (misal: toast notifikasi).

---

### üëë Admin Flow

#### Page: Permintaan Reset Password (`/admin/password-resets`)
**Purpose:** Admin melihat dan menyetujui permintaan reset password.

**UI Components Needed:**
- **Tabel Data:** Kolom berisi Nama Pengguna, NIK/ID, Waktu Permintaan.
- **Tombol Aksi:** Tombol "Setujui" di setiap baris.
- **Modal Konfirmasi:** Muncul saat tombol "Setujui" diklik.

**API Endpoints Used:**
- `GET /admin/password-resets`
- `POST /admin/password-resets/{id}/approve`

**Design Recommendations:**
- Gunakan data table yang clean (misal dari `react-table` atau `tanstack-table`).
- Baris tabel harus memiliki hover state.
- Tombol aksi harus menggunakan ikon dan teks untuk kejelasan.

---

## 5Ô∏è‚É£ DESIGN SYSTEM

### üé® Color Palette

**Primary Colors:**
```css
--primary-500: #3B82F6;  /* Blue */
--primary-600: #2563EB;
```

**Semantic Colors:**
```css
--success: #10B981;
--warning: #F59E0B;
--error: #EF4444;
```

**Neutral Colors:**
```css
--gray-50: #F9FAFB;   /* Page background */
--gray-100: #F3F4F6;  /* Card background */
--gray-700: #374151;  /* Body text */
--gray-900: #111827;  /* Headings */
```

### üìê Typography
- **Primary Font:** Inter
- **Headings:** `font-bold`, `text-gray-900`
- **Body:** `font-regular`, `text-gray-700`

### üî≤ Spacing System
Gunakan kelipatan 4px (misal: `p-2`=8px, `p-4`=16px, `gap-6`=24px).

### üéØ Component Styles

#### Buttons
- **Primary:** Background `primary-500`, teks putih, `rounded-lg`, `padding: 10px 20px`.
- **Hover:** Background `primary-600`.
- **Disabled:** Background `gray-300`.

#### Cards
- Background putih, `rounded-xl`, `padding: 24px`, `shadow-md`.

---
## 6Ô∏è‚É£ STATE MANAGEMENT GUIDE

### Global State (Zustand):
```javascript
{
  auth: {
    user: { id, name, email, isAdmin } | null,
    isAuthenticated: boolean,
    isLoading: boolean
  },
  ui: {
    notifications: Notification[] // { id, message, type: 'success' | 'error' }
  }
}
```

---
## 1Ô∏è‚É£1Ô∏è‚É£ ERROR HANDLING & VALIDATION

### Frontend Validation:
- **Email:** `/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/`
- **Password:** Minimal 8 karakter.

### Error Messages:
```javascript
{
  'EMAIL_NOT_FOUND': 'Email tidak terdaftar.',
  'PENDING_REQUEST_EXISTS': 'Anda sudah memiliki permintaan yang sedang diproses.',
  'INVALID_CREDENTIALS': 'Email atau password salah.'
}
```

### Toast Notifications:
- **Success:** Hijau, auto-dismiss 3 detik.
- **Error:** Merah, butuh klik untuk dismiss.

---
## 1Ô∏è‚É£5Ô∏è‚É£ NOTES FOR FRONTEND AI/DEVELOPER

### Preferred Design Style:
Modern, Minimalist, dan Clean. Fokus pada kejelasan dan kemudahan penggunaan.

### Inspiration References:
- **UI/UX:** Gusto, Rippling, Vercel Dashboard.
- **Component Library:** shadcn/ui, Flowbite.

### Special Requirements:
- Alur reset password memiliki dua cabang (untuk user logged-in dan logged-out) yang keduanya berujung pada persetujuan admin. Pastikan UI-nya jelas untuk kedua kasus tersebut.
- Admin menyetujui permintaan akan **langsung mereset password user** ke `12345678`. User harus dipaksa mengganti password ini saat login berikutnya.

---

# üöÄ READY FOR IMPLEMENTATION!